Object.defineProperty(exports,"__esModule",{value:true});exports.default=preventGhosts;var ANTI_GHOST_DELAY=2000;var POINTER_TYPE={MOUSE:0,TOUCH:1};function preventGhosts(element){var latestInteractionType,latestInteractionTime;function handleTap(type,e){var now=Date.now();if(type!==latestInteractionType){if(now-latestInteractionTime<=ANTI_GHOST_DELAY){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();return false;}latestInteractionType=type;}latestInteractionTime=now;}function attachEvents(eventList,interactionType){eventList.forEach(function(eventName){element.addEventListener(eventName,handleTap.bind(null,interactionType),true);});}var mouseEvents=["mousedown","mouseup","mousemove"];var touchEvents=["touchstart","touchend"];attachEvents(mouseEvents,POINTER_TYPE.MOUSE);attachEvents(touchEvents,POINTER_TYPE.TOUCH);}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL1JlYWN0RG9tL3V0aWxzL1ByZXZlbnRHaG9zdENsaWNrLmpzIl0sIm5hbWVzIjpbInByZXZlbnRHaG9zdHMiLCJBTlRJX0dIT1NUX0RFTEFZIiwiUE9JTlRFUl9UWVBFIiwiTU9VU0UiLCJUT1VDSCIsImVsZW1lbnQiLCJsYXRlc3RJbnRlcmFjdGlvblR5cGUiLCJsYXRlc3RJbnRlcmFjdGlvblRpbWUiLCJoYW5kbGVUYXAiLCJ0eXBlIiwiZSIsIm5vdyIsIkRhdGUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImF0dGFjaEV2ZW50cyIsImV2ZW50TGlzdCIsImludGVyYWN0aW9uVHlwZSIsImZvckVhY2giLCJldmVudE5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiYmluZCIsIm1vdXNlRXZlbnRzIiwidG91Y2hFdmVudHMiXSwibWFwcGluZ3MiOiJ5RUFXd0JBLGEsQ0FQeEIsR0FBSUMsa0JBQW1CLElBQXZCLENBRUEsR0FBSUMsY0FBZSxDQUNqQkMsTUFBTyxDQURVLENBRWpCQyxNQUFPLENBRlUsQ0FBbkIsQ0FLZSxRQUFTSixjQUFULENBQXVCSyxPQUF2QixDQUFnQyxDQUM3QyxHQUFJQyxzQkFBSixDQUEyQkMscUJBQTNCLENBRUEsUUFBU0MsVUFBVCxDQUFtQkMsSUFBbkIsQ0FBeUJDLENBQXpCLENBQTRCLENBRzFCLEdBQUlDLEtBQU1DLEtBQUtELEdBQUwsRUFBVixDQUVBLEdBQUlGLE9BQVNILHFCQUFiLENBQW9DLENBQ2xDLEdBQUlLLElBQU1KLHFCQUFOLEVBQStCTixnQkFBbkMsQ0FBcUQsQ0FFbkRTLEVBQUVHLGNBQUYsR0FDQUgsRUFBRUksZUFBRixHQUNBSixFQUFFSyx3QkFBRixHQUNBLE1BQU8sTUFBUCxDQUNELENBRURULHNCQUF3QkcsSUFBeEIsQ0FDRCxDQUVERixzQkFBd0JJLEdBQXhCLENBQ0QsQ0FFRCxRQUFTSyxhQUFULENBQXNCQyxTQUF0QixDQUFpQ0MsZUFBakMsQ0FBa0QsQ0FDaERELFVBQVVFLE9BQVYsQ0FBa0IsU0FBU0MsU0FBVCxDQUFvQixDQUNwQ2YsUUFBUWdCLGdCQUFSLENBQ0VELFNBREYsQ0FFRVosVUFBVWMsSUFBVixDQUFlLElBQWYsQ0FBcUJKLGVBQXJCLENBRkYsQ0FHRSxJQUhGLEVBS0QsQ0FORCxFQU9ELENBRUQsR0FBSUssYUFBYyxDQUFDLFdBQUQsQ0FBYyxTQUFkLENBQXlCLFdBQXpCLENBQWxCLENBQ0EsR0FBSUMsYUFBYyxDQUFDLFlBQUQsQ0FBZSxVQUFmLENBQWxCLENBRUFSLGFBQWFPLFdBQWIsQ0FBMEJyQixhQUFhQyxLQUF2QyxFQUNBYSxhQUFhUSxXQUFiLENBQTBCdEIsYUFBYUUsS0FBdkMsRUFDRCIsImZpbGUiOiJQcmV2ZW50R2hvc3RDbGljay5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHByb3ZpZGVzTW9kdWxlIFByZXZlbnRHaG9zdENsaWNrXG4gKi9cblxudmFyIEFOVElfR0hPU1RfREVMQVkgPSAyMDAwO1xuXG52YXIgUE9JTlRFUl9UWVBFID0ge1xuICBNT1VTRTogMCxcbiAgVE9VQ0g6IDFcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXZlbnRHaG9zdHMoZWxlbWVudCkge1xuICB2YXIgbGF0ZXN0SW50ZXJhY3Rpb25UeXBlLCBsYXRlc3RJbnRlcmFjdGlvblRpbWU7XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGFwKHR5cGUsIGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnZ290IHRhcCAnICsgZS50eXBlICsgJyBvZiBwb2ludGVyICcgKyB0eXBlKTtcblxuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgaWYgKHR5cGUgIT09IGxhdGVzdEludGVyYWN0aW9uVHlwZSkge1xuICAgICAgaWYgKG5vdyAtIGxhdGVzdEludGVyYWN0aW9uVGltZSA8PSBBTlRJX0dIT1NUX0RFTEFZKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCchcHJldmVudGVkIScpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGF0ZXN0SW50ZXJhY3Rpb25UeXBlID0gdHlwZTtcbiAgICB9XG5cbiAgICBsYXRlc3RJbnRlcmFjdGlvblRpbWUgPSBub3c7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRhY2hFdmVudHMoZXZlbnRMaXN0LCBpbnRlcmFjdGlvblR5cGUpIHtcbiAgICBldmVudExpc3QuZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICBoYW5kbGVUYXAuYmluZChudWxsLCBpbnRlcmFjdGlvblR5cGUpLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1vdXNlRXZlbnRzID0gW1wibW91c2Vkb3duXCIsIFwibW91c2V1cFwiLCBcIm1vdXNlbW92ZVwiXTtcbiAgdmFyIHRvdWNoRXZlbnRzID0gW1widG91Y2hzdGFydFwiLCBcInRvdWNoZW5kXCJdO1xuXG4gIGF0dGFjaEV2ZW50cyhtb3VzZUV2ZW50cywgUE9JTlRFUl9UWVBFLk1PVVNFKTtcbiAgYXR0YWNoRXZlbnRzKHRvdWNoRXZlbnRzLCBQT0lOVEVSX1RZUEUuVE9VQ0gpO1xufVxuIl19