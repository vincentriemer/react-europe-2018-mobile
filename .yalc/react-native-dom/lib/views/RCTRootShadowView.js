Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=require("babel-runtime/regenerator");var _regenerator2=_interopRequireDefault(_regenerator);var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _this2=this;var _RCTShadowView3=require("./RCTShadowView");var _RCTShadowView4=_interopRequireDefault(_RCTShadowView3);var _yogaDom=require("yoga-dom");var _yogaDom2=_interopRequireDefault(_yogaDom);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default=function _callee(){var RCTShadowView,Yoga,RCTRootShadowView;return _regenerator2.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator2.default.awrap(_RCTShadowView4.default);case 2:RCTShadowView=_context.sent;_context.next=5;return _regenerator2.default.awrap(_yogaDom2.default);case 5:Yoga=_context.sent;RCTRootShadowView=function(_RCTShadowView2){(0,_inherits3.default)(RCTRootShadowView,_RCTShadowView2);function RCTRootShadowView(){(0,_classCallCheck3.default)(this,RCTRootShadowView);var _this=(0,_possibleConstructorReturn3.default)(this,(RCTRootShadowView.__proto__||Object.getPrototypeOf(RCTRootShadowView)).call(this));_this.yogaConfig=new Yoga.Config();_this.yogaNode.free();_this.yogaNode=Yoga.Node.createWithConfig(_this.yogaConfig);_this.availableSize={width:Infinity,height:Infinity};return _this;}(0,_createClass3.default)(RCTRootShadowView,[{key:"updateAvailableSize",value:function updateAvailableSize(size){this.availableSize=size;this.makeDirtyRecursive();}},{key:"updatePointScaleFactor",value:function updatePointScaleFactor(ratio){this.yogaConfig.setPointScaleFactor(ratio);}},{key:"recalculateLayout",value:function recalculateLayout(){var _availableSize=this.availableSize,width=_availableSize.width,height=_availableSize.height;this.yogaNode.calculateLayout(width,height);var layoutChanges=this.getLayoutChanges({top:0,left:0});return layoutChanges;}}]);return RCTRootShadowView;}(RCTShadowView);return _context.abrupt("return",RCTRootShadowView);case 8:case"end":return _context.stop();}}},null,_this2);}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL1JlYWN0RG9tL3ZpZXdzL1JDVFJvb3RTaGFkb3dWaWV3LmpzIl0sIm5hbWVzIjpbIlJDVFNoYWRvd1ZpZXciLCJZb2dhIiwiUkNUUm9vdFNoYWRvd1ZpZXciLCJ5b2dhQ29uZmlnIiwiQ29uZmlnIiwieW9nYU5vZGUiLCJmcmVlIiwiTm9kZSIsImNyZWF0ZVdpdGhDb25maWciLCJhdmFpbGFibGVTaXplIiwid2lkdGgiLCJJbmZpbml0eSIsImhlaWdodCIsInNpemUiLCJtYWtlRGlydHlSZWN1cnNpdmUiLCJyYXRpbyIsInNldFBvaW50U2NhbGVGYWN0b3IiLCJjYWxjdWxhdGVMYXlvdXQiLCJsYXlvdXRDaGFuZ2VzIiwiZ2V0TGF5b3V0Q2hhbmdlcyIsInRvcCIsImxlZnQiXSwibWFwcGluZ3MiOiIwc0JBT0EsK0MsNERBQ0EsaUMsa0pBRWdCLGtRQUNSQSxhQURRLDRGQUVSQyxJQUZRLGVBSVJDLGlCQUpRLHFGQVNaLDRCQUFjLGlNQUdaLE1BQUtDLFVBQUwsQ0FBa0IsR0FBSUYsTUFBS0csTUFBVCxFQUFsQixDQUVBLE1BQUtDLFFBQUwsQ0FBY0MsSUFBZCxHQUNBLE1BQUtELFFBQUwsQ0FBZ0JKLEtBQUtNLElBQUwsQ0FBVUMsZ0JBQVYsQ0FBMkIsTUFBS0wsVUFBaEMsQ0FBaEIsQ0FFQSxNQUFLTSxhQUFMLENBQXFCLENBQUVDLE1BQU9DLFFBQVQsQ0FBbUJDLE9BQVFELFFBQTNCLENBQXJCLENBUlksYUFTYixDQWxCVywyR0FvQlFFLElBcEJSLENBb0JvQixDQUM5QixLQUFLSixhQUFMLENBQXFCSSxJQUFyQixDQUNBLEtBQUtDLGtCQUFMLEdBQ0QsQ0F2Qlcsc0VBeUJXQyxLQXpCWCxDQXlCMEIsQ0FDcEMsS0FBS1osVUFBTCxDQUFnQmEsbUJBQWhCLENBQW9DRCxLQUFwQyxFQUNELENBM0JXLDZEQTZCNkIsb0JBQ2IsS0FBS04sYUFEUSxDQUMvQkMsS0FEK0IsZ0JBQy9CQSxLQUQrQixDQUN4QkUsTUFEd0IsZ0JBQ3hCQSxNQUR3QixDQUV2QyxLQUFLUCxRQUFMLENBQWNZLGVBQWQsQ0FBOEJQLEtBQTlCLENBQXFDRSxNQUFyQyxFQUVBLEdBQU1NLGVBQWdCLEtBQUtDLGdCQUFMLENBQXNCLENBQzFDQyxJQUFLLENBRHFDLENBRTFDQyxLQUFNLENBRm9DLENBQXRCLENBQXRCLENBS0EsTUFBT0gsY0FBUCxDQUNELENBdkNXLCtCQUlrQmxCLGFBSmxCLGtDQTBDUEUsaUJBMUNPLDREQUFELEUiLCJmaWxlIjoiUkNUUm9vdFNoYWRvd1ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcm92aWRlc01vZHVsZSBSQ1RSb290U2hhZG93Vmlld1xuICogQGZsb3dcbiAqL1xuXG5pbXBvcnQgdHlwZSB7IExheW91dENoYW5nZSB9IGZyb20gXCJSQ1RTaGFkb3dWaWV3XCI7XG5cbmltcG9ydCBfUkNUU2hhZG93VmlldyBmcm9tIFwiUkNUU2hhZG93Vmlld1wiO1xuaW1wb3J0IF9Zb2dhIGZyb20gXCJ5b2dhLWRvbVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoYXN5bmMgKCkgPT4ge1xuICBjb25zdCBSQ1RTaGFkb3dWaWV3ID0gYXdhaXQgX1JDVFNoYWRvd1ZpZXc7XG4gIGNvbnN0IFlvZ2EgPSBhd2FpdCBfWW9nYTtcblxuICBjbGFzcyBSQ1RSb290U2hhZG93VmlldyBleHRlbmRzIFJDVFNoYWRvd1ZpZXcge1xuICAgIGF2YWlsYWJsZVNpemU6IFNpemU7XG4gICAgeW9nYUNvbmZpZzogWW9nYS5Db25maWc7XG4gICAgLy8gWUdEaXJlY3Rpb25cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgdGhpcy55b2dhQ29uZmlnID0gbmV3IFlvZ2EuQ29uZmlnKCk7XG5cbiAgICAgIHRoaXMueW9nYU5vZGUuZnJlZSgpO1xuICAgICAgdGhpcy55b2dhTm9kZSA9IFlvZ2EuTm9kZS5jcmVhdGVXaXRoQ29uZmlnKHRoaXMueW9nYUNvbmZpZyk7XG5cbiAgICAgIHRoaXMuYXZhaWxhYmxlU2l6ZSA9IHsgd2lkdGg6IEluZmluaXR5LCBoZWlnaHQ6IEluZmluaXR5IH07XG4gICAgfVxuXG4gICAgdXBkYXRlQXZhaWxhYmxlU2l6ZShzaXplOiBTaXplKSB7XG4gICAgICB0aGlzLmF2YWlsYWJsZVNpemUgPSBzaXplO1xuICAgICAgdGhpcy5tYWtlRGlydHlSZWN1cnNpdmUoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb2ludFNjYWxlRmFjdG9yKHJhdGlvOiBudW1iZXIpIHtcbiAgICAgIHRoaXMueW9nYUNvbmZpZy5zZXRQb2ludFNjYWxlRmFjdG9yKHJhdGlvKTtcbiAgICB9XG5cbiAgICByZWNhbGN1bGF0ZUxheW91dCgpOiBBcnJheTxMYXlvdXRDaGFuZ2U+IHtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5hdmFpbGFibGVTaXplO1xuICAgICAgdGhpcy55b2dhTm9kZS5jYWxjdWxhdGVMYXlvdXQod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIGNvbnN0IGxheW91dENoYW5nZXMgPSB0aGlzLmdldExheW91dENoYW5nZXMoe1xuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbGF5b3V0Q2hhbmdlcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gUkNUUm9vdFNoYWRvd1ZpZXc7XG59KSgpO1xuIl19