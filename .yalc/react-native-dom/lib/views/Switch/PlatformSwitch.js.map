{"version":3,"sources":["../../../ReactDom/views/Switch/PlatformSwitch.js"],"names":["PlatformSwitch","name","prev","curr","objName","replace","$0","$1","toUpperCase","includes","parseInt","setState","attachShadow","mode","disabled","value","width","height","tintColor","onTintColor","thumbTintColor","dispatchEvent","CustomEvent","detail","state","html","opacity","pointerEvents","borderRadius","backgroundColor","transform","define"],"mappings":"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","file":"PlatformSwitch.js","sourcesContent":["/**\n * @providesModule PlatformSwitch\n * @flow\n */\n\nimport HyperHTMLElement from \"hyperhtml-element/esm\";\n\ntype State = {\n  disabled: boolean,\n  value: boolean,\n  width: number,\n  height: number,\n  tintColor: string,\n  onTintColor: string,\n  thumbTintColor: string\n};\n\nclass PlatformSwitch extends HyperHTMLElement {\n  state: State;\n\n  static get observedAttributes(): string[] {\n    return [\n      \"disabled\",\n      \"value\",\n      \"width\",\n      \"height\",\n      \"tint-color\",\n      \"on-tint-color\",\n      \"thumb-tint-color\"\n    ];\n  }\n\n  get defaultState(): State {\n    return {\n      disabled: false,\n      value: false,\n      width: 51,\n      height: 31,\n      tintColor: \"#aaa\",\n      onTintColor: \"#007bff\",\n      thumbTintColor: \"#fff\"\n    };\n  }\n\n  attributeChangedCallback(name: string, prev: any, curr: any) {\n    const objName = name.replace(/-([a-z])/g, ($0, $1) => $1.toUpperCase());\n\n    if ([\"disabled\", \"value\"].includes(objName)) {\n      curr = curr == \"true\";\n    }\n    if ([\"width\", \"height\"].includes(objName)) {\n      curr = parseInt(curr, 10);\n    }\n\n    this.setState({ [objName]: curr });\n  }\n\n  created() {\n    this.attachShadow({ mode: \"open\" });\n    this.disabled = this.disabled || false;\n    this.value = this.value || false;\n    this.width = this.width || 51;\n    this.height = this.height || 31;\n    this.tintColor = this.tintColor || \"#aaa\";\n    this.onTintColor = this.onTintColor || \"#007bff\";\n    this.thumbTintColor = this.thumbTintColor || \"#fff\";\n  }\n\n  onclick() {\n    this.dispatchEvent(\n      new CustomEvent(\"onchange\", { detail: { value: !this.state.value } })\n    );\n  }\n\n  render() {\n    return this.html`\n      <style>\n        .checkbox {\n          display: none;\n        }\n        .toggle {\n          box-sizing: border-box;\n          position: relative;\n          z-index: 2;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        }\n        .background-on {\n          position: absolute;\n          top: 0; left: 0; right: 0; bottom: 0;\n        }\n        .background-off {\n          position: absolute;\n          top: 0; left: 0; right: 0; bottom: 0;\n          transition: opacity 0.1s ease-out;\n          will-change: opacity;\n        }\n        .background-off-inner {\n          position: absolute;\n          top: 2px; left: 2px; right: 2px; bottom: 2px;\n          background-color: #ccc;\n          will-change: transform, opacity;\n          transition: transform 0.35s, opacity 0.35s;\n        }\n        .handle {\n          position: absolute;\n          top: 2px; left: 2px;\n          will-change: transform;\n          transition: transform 0.35s;\n        }\n      </style>\n      <div \n        class=\"toggle\" \n        onclick=${this}\n        style=${{\n          width: this.state.width,\n          height: this.state.height,\n          opacity: this.state.disabled ? 0.5 : 1,\n          pointerEvents: this.state.disabled ? \"none\" : \"auto\"\n        }}\n      >\n        <input \n          class=\"checkbox\" \n          type=\"checkbox\" \n          checked=${this.state.value}\n        ></input>\n        <div \n          class=\"background-on\" \n          style=${{\n            borderRadius: this.state.height / 2,\n            backgroundColor: this.state.onTintColor\n          }}\n        ></div>\n        <div \n          class=\"background-off\" \n          style=${{\n            opacity: this.state.value ? 0 : 1,\n            borderRadius: this.state.height / 2,\n            backgroundColor: this.state.tintColor\n          }}\n        ></div>\n        <div \n          class=\"background-off-inner\" \n          style=${{\n            transform: `scale(${this.state.value ? 0 : 1})`,\n            opacity: this.state.value ? 0 : 1,\n            borderRadius: (this.state.height - 4) / 2\n          }}\n        ></div>\n        <div \n          class=\"handle\" \n          style=${{\n            width: this.state.height - 4,\n            height: this.state.height - 4,\n            backgroundColor: this.state.thumbTintColor,\n            borderRadius: (this.state.height - 4) / 2,\n            transform: `translateX(${\n              this.state.value\n                ? `${this.state.width - this.state.height}px`\n                : \"0px\"\n            })`\n          }}\n        ></div>\n      </div>\n    `;\n  }\n}\n\nPlatformSwitch.define(\"platform-switch\");\n\nexport default PlatformSwitch;\n"]}