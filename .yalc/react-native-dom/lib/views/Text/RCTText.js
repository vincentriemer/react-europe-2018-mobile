Object.defineProperty(exports,"__esModule",{value:true});var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _slicedToArray2=require("babel-runtime/helpers/slicedToArray");var _slicedToArray3=_interopRequireDefault(_slicedToArray2);var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require("babel-runtime/helpers/get");var _get3=_interopRequireDefault(_get2);var _set2=require("babel-runtime/helpers/set");var _set3=_interopRequireDefault(_set2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _dec,_class;var _RCTView2=require("./../RCTView");var _RCTView3=_interopRequireDefault(_RCTView2);var _RCTRawText=require("./RCTRawText");var _RCTRawText2=_interopRequireDefault(_RCTRawText);var _RCTSharedTextValues=require("./RCTSharedTextValues");var _CustomElement=require("./../../utils/CustomElement");var _CustomElement2=_interopRequireDefault(_CustomElement);var _ColorArrayFromHexARGB=require("./../../utils/ColorArrayFromHexARGB");var _ColorArrayFromHexARGB2=_interopRequireDefault(_ColorArrayFromHexARGB);var _tinycolor=require("tinycolor2");var _tinycolor2=_interopRequireDefault(_tinycolor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}(function(){var styleElement=document.createElement("style");styleElement.innerHTML="\n    body, html {\n      font-family: "+_RCTSharedTextValues.defaults.fontFamily+";\n      font-size: "+_RCTSharedTextValues.defaults.fontSize+";\n      line-height: "+_RCTSharedTextValues.defaults.lineHeight+";\n      font-weight: "+_RCTSharedTextValues.defaults.fontWeight+";\n      letter-spacing: "+_RCTSharedTextValues.defaults.letterSpacing+";\n    }\n  ";document.head&&document.head.appendChild(styleElement);})();var RCTText=(_dec=(0,_CustomElement2.default)("rct-text"),_dec(_class=function(_RCTView){(0,_inherits3.default)(RCTText,_RCTView);function RCTText(bridge){(0,_classCallCheck3.default)(this,RCTText);var _this=(0,_possibleConstructorReturn3.default)(this,(RCTText.__proto__||Object.getPrototypeOf(RCTText)).call(this,bridge));_this.updateHostStyle({position:"static",display:"inline",contain:"none",opacity:"1.0",whiteSpace:"pre-wrap",boxDecorationBreak:"clone"});_this.updateChildContainerStyle({display:"inline",contain:"none",position:"static",width:"100%"});_this.isHighlighted=null;_this.disabled=true;_this.fontFamily=null;_this.fontSize=null;_this.lineHeight=null;_this.textDecorationColor=null;_this.textDecorationLine=null;_this.textDecorationStyle=null;return _this;}(0,_createClass3.default)(RCTText,[{key:"updatePointerEvents",value:function updatePointerEvents(){this.style.pointerEvents=(this._selectable||this._touchable)&&!this._disabled?"auto":"none";}},{key:"backgroundColor",set:function set(value){(0,_set3.default)(RCTText.prototype.__proto__||Object.getPrototypeOf(RCTText.prototype),"backgroundColor",value,this);var color=(0,_tinycolor2.default)(value);if(color.getAlpha()<0.3){color.setAlpha(0.3);}color.darken();this._highlightedBackgroundColor=color.toRgbString();}},{key:"color",set:function set(value){if(typeof value==="number"){var _ColorArrayFromHexARG=(0,_ColorArrayFromHexARGB2.default)(value),_ColorArrayFromHexARG2=(0,_slicedToArray3.default)(_ColorArrayFromHexARG,4),a=_ColorArrayFromHexARG2[0],r=_ColorArrayFromHexARG2[1],g=_ColorArrayFromHexARG2[2],b=_ColorArrayFromHexARG2[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";this.style.color=stringValue;}else{this.style.color=value;}}},{key:"frame",get:function get(){return(0,_get3.default)(RCTText.prototype.__proto__||Object.getPrototypeOf(RCTText.prototype),"frame",this);},set:function set(value){(0,_extends3.default)(this,value);this.updateHostStyle({position:"absolute",display:"inline-block"});this.updateChildContainerStyle({display:"inline-block"});if(this.onLayout){this.onLayout({layout:{x:value.left,y:value.top,width:value.width,height:value.height}});}}},{key:"accessible",set:function set(value){}},{key:"fontFamily",set:function set(value){this.style.fontFamily=value?value:"inherit";}},{key:"fontSize",set:function set(value){this.style.fontSize=value?value+"px":"inherit";}},{key:"selectable",get:function get(){return this._selectable;},set:function set(value){this._selectable=value;this.updateHostStyle("userSelect",value?"text":"none");this.updatePointerEvents();}},{key:"textAlign",set:function set(value){this.style.textAlign=value;}},{key:"disabled",set:function set(value){this.updatePointerEvents();}},{key:"isHighlighted",set:function set(value){this._isHighlighted=value;if(value!==null){this.touchable=true;this.updateHostStyle("backgroundImage",value?"linear-gradient(-100deg, rgba(0,0,0,0.2), rgba(0,0,0,0.2))":"");}else{this.touchable=false;}this.updatePointerEvents();}},{key:"fontWeight",set:function set(value){this.style.fontWeight=value?value:_RCTSharedTextValues.defaults.fontWeight;}},{key:"fontStyle",set:function set(value){this.style.fontStyle=value?value:_RCTSharedTextValues.defaults.fontStyle;}},{key:"letterSpacing",set:function set(value){this.style.letterSpacing=value?value+"px":"inherit";}},{key:"textDecorationLine",set:function set(value){this.updateChildContainerStyle("textDecorationLine",value?value:"none");}},{key:"textDecorationStyle",set:function set(value){this.updateChildContainerStyle("textDecorationStyle",value?value:"solid");}},{key:"textDecorationColor",set:function set(value){if(value!=null){var _ColorArrayFromHexARG3=(0,_ColorArrayFromHexARGB2.default)(value),_ColorArrayFromHexARG4=(0,_slicedToArray3.default)(_ColorArrayFromHexARG3,4),a=_ColorArrayFromHexARG4[0],r=_ColorArrayFromHexARG4[1],g=_ColorArrayFromHexARG4[2],b=_ColorArrayFromHexARG4[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";this.updateChildContainerStyle("textDecorationColor",stringValue);}else{this.updateChildContainerStyle("textDecorationColor","currentcolor");}}},{key:"lineHeight",set:function set(value){this.updateHostStyle("lineHeight",value?value+"px":"inherit");}},{key:"numberOfLines",set:function set(value){if(value===1){this.updateHostStyle({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});this.updateChildContainerStyle({overflow:"hidden",textOverflow:"ellipsis"});}else{this.updateHostStyle({overflow:"visible",whiteSpace:"pre-wrap",textOverflow:undefined});this.updateChildContainerStyle({overflow:"visible",textOverflow:undefined});}}}]);return RCTText;}(_RCTView3.default))||_class);exports.default=RCTText;
//# sourceMappingURL=RCTText.js.map