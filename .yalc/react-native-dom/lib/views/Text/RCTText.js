Object.defineProperty(exports,"__esModule",{value:true});var _slicedToArray2=require("babel-runtime/helpers/slicedToArray");var _slicedToArray3=_interopRequireDefault(_slicedToArray2);var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require("babel-runtime/helpers/get");var _get3=_interopRequireDefault(_get2);var _set2=require("babel-runtime/helpers/set");var _set3=_interopRequireDefault(_set2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _dec,_class;var _RCTView2=require("./../RCTView");var _RCTView3=_interopRequireDefault(_RCTView2);var _RCTSharedTextValues=require("./RCTSharedTextValues");var _CustomElement=require("./../../utils/CustomElement");var _CustomElement2=_interopRequireDefault(_CustomElement);var _ColorArrayFromHexARGB=require("./../../utils/ColorArrayFromHexARGB");var _ColorArrayFromHexARGB2=_interopRequireDefault(_ColorArrayFromHexARGB);var _tinycolor=require("tinycolor2");var _tinycolor2=_interopRequireDefault(_tinycolor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RCTText=(_dec=(0,_CustomElement2.default)("rct-text"),_dec(_class=function(_RCTView){(0,_inherits3.default)(RCTText,_RCTView);function RCTText(bridge){(0,_classCallCheck3.default)(this,RCTText);var _this=(0,_possibleConstructorReturn3.default)(this,(RCTText.__proto__||Object.getPrototypeOf(RCTText)).call(this,bridge));_this.updateHostStyle({position:"static",display:"inline",contain:"none",opacity:"1.0",whiteSpace:"pre-wrap",boxDecorationBreak:"clone"});_this.updateChildContainerStyle({display:"inline",position:"static"});_this.isHighlighted=null;_this.disabled=true;_this.fontFamily=_RCTSharedTextValues.defaultFontStack;_this.fontSize=_RCTSharedTextValues.defaultFontSize;_this.lineHeight=null;_this.textDecorationColor=null;_this.textDecorationLine=null;_this.textDecorationStyle=null;return _this;}(0,_createClass3.default)(RCTText,[{key:"updatePointerEvents",value:function updatePointerEvents(){this.style.pointerEvents=(this._selectable||this._touchable)&&!this._disabled?"auto":"none";}},{key:"backgroundColor",set:function set(value){(0,_set3.default)(RCTText.prototype.__proto__||Object.getPrototypeOf(RCTText.prototype),"backgroundColor",value,this);var color=(0,_tinycolor2.default)(value);if(color.getAlpha()<0.3){color.setAlpha(0.3);}color.darken();this._highlightedBackgroundColor=color.toRgbString();}},{key:"color",set:function set(value){if(typeof value==="number"){var _ColorArrayFromHexARG=(0,_ColorArrayFromHexARGB2.default)(value),_ColorArrayFromHexARG2=(0,_slicedToArray3.default)(_ColorArrayFromHexARG,4),a=_ColorArrayFromHexARG2[0],r=_ColorArrayFromHexARG2[1],g=_ColorArrayFromHexARG2[2],b=_ColorArrayFromHexARG2[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";this.style.color=stringValue;}else{this.style.color=value;}}},{key:"frame",get:function get(){return(0,_get3.default)(RCTText.prototype.__proto__||Object.getPrototypeOf(RCTText.prototype),"frame",this);},set:function set(value){(0,_set3.default)(RCTText.prototype.__proto__||Object.getPrototypeOf(RCTText.prototype),"frame",value,this);this.updateHostStyle({position:"absolute",display:"inline-block"});this.updateChildContainerStyle("display","inline-block");}},{key:"accessible",set:function set(value){}},{key:"fontFamily",set:function set(value){this.style.fontFamily=value?value:_RCTSharedTextValues.defaults.fontFamily;}},{key:"fontSize",set:function set(value){this.style.fontSize=value?value+"px":_RCTSharedTextValues.defaults.fontSize;}},{key:"selectable",get:function get(){return this._selectable;},set:function set(value){this._selectable=value;this.updateHostStyle("userSelect",value?"text":"none");this.updatePointerEvents();}},{key:"textAlign",set:function set(value){this.style.textAlign=value;}},{key:"disabled",set:function set(value){this.updatePointerEvents();}},{key:"isHighlighted",set:function set(value){this._isHighlighted=value;if(value!==null){this.touchable=true;this.updateHostStyle("backgroundImage",value?"linear-gradient(-100deg, rgba(0,0,0,0.2), rgba(0,0,0,0.2))":"");}else{this.touchable=false;}this.updatePointerEvents();}},{key:"fontWeight",set:function set(value){this.style.fontWeight=value?value:_RCTSharedTextValues.defaults.fontWeight;}},{key:"fontStyle",set:function set(value){this.style.fontStyle=value?value:_RCTSharedTextValues.defaults.fontStyle;}},{key:"letterSpacing",set:function set(value){this.style.letterSpacing=value?value+"px":_RCTSharedTextValues.defaults.letterSpacing;}},{key:"textDecorationLine",set:function set(value){this.updateChildContainerStyle("textDecorationLine",value?value:"none");}},{key:"textDecorationStyle",set:function set(value){this.updateChildContainerStyle("textDecorationStyle",value?value:"solid");}},{key:"textDecorationColor",set:function set(value){if(value!=null){var _ColorArrayFromHexARG3=(0,_ColorArrayFromHexARGB2.default)(value),_ColorArrayFromHexARG4=(0,_slicedToArray3.default)(_ColorArrayFromHexARG3,4),a=_ColorArrayFromHexARG4[0],r=_ColorArrayFromHexARG4[1],g=_ColorArrayFromHexARG4[2],b=_ColorArrayFromHexARG4[3];var stringValue="rgba("+r+","+g+","+b+","+a+")";this.updateChildContainerStyle("textDecorationColor",stringValue);}else{this.updateChildContainerStyle("textDecorationColor","currentcolor");}}},{key:"lineHeight",set:function set(value){this.updateHostStyle("lineHeight",value?value+"px":_RCTSharedTextValues.defaults.lineHeight);}}]);return RCTText;}(_RCTView3.default))||_class);exports.default=RCTText;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1JlYWN0RG9tL3ZpZXdzL1RleHQvUkNUVGV4dC5qcyJdLCJuYW1lcyI6WyJSQ1RUZXh0IiwiYnJpZGdlIiwidXBkYXRlSG9zdFN0eWxlIiwicG9zaXRpb24iLCJkaXNwbGF5IiwiY29udGFpbiIsIm9wYWNpdHkiLCJ3aGl0ZVNwYWNlIiwiYm94RGVjb3JhdGlvbkJyZWFrIiwidXBkYXRlQ2hpbGRDb250YWluZXJTdHlsZSIsImlzSGlnaGxpZ2h0ZWQiLCJkaXNhYmxlZCIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJ0ZXh0RGVjb3JhdGlvbkNvbG9yIiwidGV4dERlY29yYXRpb25MaW5lIiwidGV4dERlY29yYXRpb25TdHlsZSIsInN0eWxlIiwicG9pbnRlckV2ZW50cyIsIl9zZWxlY3RhYmxlIiwiX3RvdWNoYWJsZSIsIl9kaXNhYmxlZCIsInZhbHVlIiwiY29sb3IiLCJnZXRBbHBoYSIsInNldEFscGhhIiwiZGFya2VuIiwiX2hpZ2hsaWdodGVkQmFja2dyb3VuZENvbG9yIiwidG9SZ2JTdHJpbmciLCJhIiwiciIsImciLCJiIiwic3RyaW5nVmFsdWUiLCJ1cGRhdGVQb2ludGVyRXZlbnRzIiwidGV4dEFsaWduIiwiX2lzSGlnaGxpZ2h0ZWQiLCJ0b3VjaGFibGUiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwibGV0dGVyU3BhY2luZyJdLCJtYXBwaW5ncyI6IjA0QkFPQSxzQyxnREFDQSwwREFLQSwwRCwyREFDQSwwRSwyRUFDQSxxQyx5SUFHTUEsUSxPQURMLDRCQUFjLFVBQWQsQyx5RUFPQyxpQkFBWUMsTUFBWixDQUErQixpS0FDdkJBLE1BRHVCLEdBRzdCLE1BQUtDLGVBQUwsQ0FBcUIsQ0FDbkJDLFNBQVUsUUFEUyxDQUVuQkMsUUFBUyxRQUZVLENBR25CQyxRQUFTLE1BSFUsQ0FJbkJDLFFBQVMsS0FKVSxDQUtuQkMsV0FBWSxVQUxPLENBTW5CQyxtQkFBb0IsT0FORCxDQUFyQixFQVNBLE1BQUtDLHlC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S0FBS0wsS0FBTCxDQUFXcUIsVUFBWCxDQUF3QmhCLE1BQVFBLEtBQVIsQ0FBZ0IsOEJBQWFnQixVQUFyRCxDQUNELEMsb0NBRWFoQixLLENBQWdCLENBQzVCLEtBQUtMLEtBQUwsQ0FBV3NCLFNBQVgsQ0FBdUJqQixNQUFRQSxLQUFSLENBQWdCLDhCQUFhaUIsU0FBcEQsQ0FDRCxDLHdDQUVpQmpCLEssQ0FBZ0IsQ0FDaEMsS0FBS0wsS0FBTCxDQUFXdUIsYUFBWCxDQUEyQmxCLE1BQ3BCQSxLQURvQixNQUV2Qiw4QkFBYWtCLGFBRmpCLENBR0QsQyw2Q0FFc0JsQixLLENBQWdCLENBQ3JDLEtBQUtkLHlCQUFMLENBQ0Usb0JBREYsQ0FFRWMsTUFBUUEsS0FBUixDQUFnQixNQUZsQixFQUlELEMsOENBRXVCQSxLLENBQWdCLENBQ3RDLEtBQUtkLHlCQUFMLENBQ0UscUJBREYsQ0FFRWMsTUFBUUEsS0FBUixDQUFnQixPQUZsQixFQUlELEMsOENBRXVCQSxLLENBQWdCLENBQ3RDLEdBQUlBLE9BQVMsSUFBYixDQUFtQiw0QkFDSSxvQ0FBc0JBLEtBQXRCLENBREosOEVBQ1ZPLENBRFUsMkJBQ1BDLENBRE8sMkJBQ0pDLENBREksMkJBQ0RDLENBREMsMkJBRWpCLEdBQU1DLHFCQUFzQkgsQ0FBdEIsS0FBMkJDLENBQTNCLEtBQWdDQyxDQUFoQyxLQUFxQ0gsQ0FBckMsSUFBTixDQUNBLEtBQUtyQix5QkFBTCxDQUErQixxQkFBL0IsQ0FBc0R5QixXQUF0RCxFQUNELENBSkQsSUFJTyxDQUNMLEtBQUt6Qix5QkFBTCxDQUErQixxQkFBL0IsQ0FBc0QsY0FBdEQsRUFDRCxDQUNGLEMscUNBRWNjLEssQ0FBZ0IsQ0FDN0IsS0FBS3JCLGVBQUwsQ0FDRSxZQURGLENBRUVxQixNQUFXQSxLQUFYLE1BQXVCLDhCQUFhVCxVQUZ0QyxFQUlELEMsa0VBR1lkLE8iLCJmaWxlIjoiUkNUVGV4dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHByb3ZpZGVzTW9kdWxlIFJDVFRleHRcbiAqIEBmbG93XG4gKi9cblxuaW1wb3J0IHR5cGUgUkNUQnJpZGdlIGZyb20gXCJSQ1RCcmlkZ2VcIjtcblxuaW1wb3J0IFJDVFZpZXcgZnJvbSBcIlJDVFZpZXdcIjtcbmltcG9ydCB7XG4gIGRlZmF1bHRGb250U3RhY2ssXG4gIGRlZmF1bHRGb250U2l6ZSxcbiAgZGVmYXVsdHMgYXMgVGV4dERlZmF1bHRzXG59IGZyb20gXCJSQ1RTaGFyZWRUZXh0VmFsdWVzXCI7XG5pbXBvcnQgQ3VzdG9tRWxlbWVudCBmcm9tIFwiQ3VzdG9tRWxlbWVudFwiO1xuaW1wb3J0IENvbG9yQXJyYXlGcm9tSGV4QVJHQiBmcm9tIFwiQ29sb3JBcnJheUZyb21IZXhBUkdCXCI7XG5pbXBvcnQgdGlueWNvbG9yIGZyb20gXCJ0aW55Y29sb3IyXCI7XG5cbkBDdXN0b21FbGVtZW50KFwicmN0LXRleHRcIilcbmNsYXNzIFJDVFRleHQgZXh0ZW5kcyBSQ1RWaWV3IHtcbiAgX3NlbGVjdGFibGU6IGJvb2xlYW47XG4gIF9kaXNhYmxlZDogYm9vbGVhbjtcbiAgX2lzSGlnaGxpZ2h0ZWQ6ID9ib29sZWFuO1xuICBfaGlnaGxpZ2h0ZWRCYWNrZ3JvdW5kQ29sb3I6ID9zdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoYnJpZGdlOiBSQ1RCcmlkZ2UpIHtcbiAgICBzdXBlcihicmlkZ2UpO1xuXG4gICAgdGhpcy51cGRhdGVIb3N0U3R5bGUoe1xuICAgICAgcG9zaXRpb246IFwic3RhdGljXCIsXG4gICAgICBkaXNwbGF5OiBcImlubGluZVwiLFxuICAgICAgY29udGFpbjogXCJub25lXCIsXG4gICAgICBvcGFjaXR5OiBcIjEuMFwiLFxuICAgICAgd2hpdGVTcGFjZTogXCJwcmUtd3JhcFwiLFxuICAgICAgYm94RGVjb3JhdGlvbkJyZWFrOiBcImNsb25lXCJcbiAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlQ2hpbGRDb250YWluZXJTdHlsZSh7XG4gICAgICBkaXNwbGF5OiBcImlubGluZVwiLFxuICAgICAgcG9zaXRpb246IFwic3RhdGljXCJcbiAgICB9KTtcblxuICAgIHRoaXMuaXNIaWdobGlnaHRlZCA9IG51bGw7XG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5mb250RmFtaWx5ID0gZGVmYXVsdEZvbnRTdGFjaztcbiAgICB0aGlzLmZvbnRTaXplID0gZGVmYXVsdEZvbnRTaXplO1xuICAgIHRoaXMubGluZUhlaWdodCA9IG51bGw7XG4gICAgdGhpcy50ZXh0RGVjb3JhdGlvbkNvbG9yID0gbnVsbDtcbiAgICB0aGlzLnRleHREZWNvcmF0aW9uTGluZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0RGVjb3JhdGlvblN0eWxlID0gbnVsbDtcbiAgfVxuXG4gIHNldCBiYWNrZ3JvdW5kQ29sb3IodmFsdWU6IG51bWJlciB8IHN0cmluZykge1xuICAgIHN1cGVyLmJhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuXG4gICAgY29uc3QgY29sb3IgPSB0aW55Y29sb3IodmFsdWUpO1xuICAgIGlmIChjb2xvci5nZXRBbHBoYSgpIDwgMC4zKSB7XG4gICAgICBjb2xvci5zZXRBbHBoYSgwLjMpO1xuICAgIH1cblxuICAgIGNvbG9yLmRhcmtlbigpO1xuICAgIHRoaXMuX2hpZ2hsaWdodGVkQmFja2dyb3VuZENvbG9yID0gY29sb3IudG9SZ2JTdHJpbmcoKTtcbiAgfVxuXG4gIHNldCBjb2xvcih2YWx1ZTogbnVtYmVyIHwgc3RyaW5nKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgW2EsIHIsIGcsIGJdID0gQ29sb3JBcnJheUZyb21IZXhBUkdCKHZhbHVlKTtcbiAgICAgIGNvbnN0IHN0cmluZ1ZhbHVlID0gYHJnYmEoJHtyfSwke2d9LCR7Yn0sJHthfSlgO1xuICAgICAgdGhpcy5zdHlsZS5jb2xvciA9IHN0cmluZ1ZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0eWxlLmNvbG9yID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGZyYW1lKCk6IEZyYW1lIHtcbiAgICByZXR1cm4gc3VwZXIuZnJhbWU7XG4gIH1cblxuICBzZXQgZnJhbWUodmFsdWU6IEZyYW1lKSB7XG4gICAgc3VwZXIuZnJhbWUgPSB2YWx1ZTtcblxuICAgIC8vIGlmIHRleHQncyBmcmFtZSBpcyBzZXQgcmV2ZXJ0IGJhY2sgdG8gYmxvY2sgcG9zaXRpb25pbmdcbiAgICB0aGlzLnVwZGF0ZUhvc3RTdHlsZSh7XG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIlxuICAgIH0pO1xuXG4gICAgdGhpcy51cGRhdGVDaGlsZENvbnRhaW5lclN0eWxlKFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgfVxuXG4gIHNldCBhY2Nlc3NpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgLy8gbm8tb3BcbiAgfVxuXG4gIHNldCBmb250RmFtaWx5KHZhbHVlOiA/c3RyaW5nKSB7XG4gICAgdGhpcy5zdHlsZS5mb250RmFtaWx5ID0gdmFsdWUgPyB2YWx1ZSA6IFRleHREZWZhdWx0cy5mb250RmFtaWx5O1xuICB9XG5cbiAgc2V0IGZvbnRTaXplKHZhbHVlOiA/bnVtYmVyKSB7XG4gICAgdGhpcy5zdHlsZS5mb250U2l6ZSA9IHZhbHVlID8gYCR7dmFsdWV9cHhgIDogVGV4dERlZmF1bHRzLmZvbnRTaXplO1xuICB9XG5cbiAgZ2V0IHNlbGVjdGFibGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGFibGU7XG4gIH1cblxuICBzZXQgdGV4dEFsaWduKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0eWxlLnRleHRBbGlnbiA9IHZhbHVlO1xuICB9XG5cbiAgdXBkYXRlUG9pbnRlckV2ZW50cygpIHtcbiAgICB0aGlzLnN0eWxlLnBvaW50ZXJFdmVudHMgPVxuICAgICAgKHRoaXMuX3NlbGVjdGFibGUgfHwgdGhpcy5fdG91Y2hhYmxlKSAmJiAhdGhpcy5fZGlzYWJsZWRcbiAgICAgICAgPyBcImF1dG9cIlxuICAgICAgICA6IFwibm9uZVwiO1xuICB9XG5cbiAgc2V0IGRpc2FibGVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy51cGRhdGVQb2ludGVyRXZlbnRzKCk7XG4gIH1cblxuICBzZXQgaXNIaWdobGlnaHRlZCh2YWx1ZTogP2Jvb2xlYW4pIHtcbiAgICB0aGlzLl9pc0hpZ2hsaWdodGVkID0gdmFsdWU7XG4gICAgaWYgKHZhbHVlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZSA9IHRydWU7XG4gICAgICB0aGlzLnVwZGF0ZUhvc3RTdHlsZShcbiAgICAgICAgXCJiYWNrZ3JvdW5kSW1hZ2VcIixcbiAgICAgICAgdmFsdWVcbiAgICAgICAgICA/IFwibGluZWFyLWdyYWRpZW50KC0xMDBkZWcsIHJnYmEoMCwwLDAsMC4yKSwgcmdiYSgwLDAsMCwwLjIpKVwiXG4gICAgICAgICAgOiBcIlwiXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRvdWNoYWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVBvaW50ZXJFdmVudHMoKTtcbiAgfVxuXG4gIHNldCBzZWxlY3RhYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fc2VsZWN0YWJsZSA9IHZhbHVlO1xuXG4gICAgdGhpcy51cGRhdGVIb3N0U3R5bGUoXCJ1c2VyU2VsZWN0XCIsIHZhbHVlID8gXCJ0ZXh0XCIgOiBcIm5vbmVcIik7XG4gICAgdGhpcy51cGRhdGVQb2ludGVyRXZlbnRzKCk7XG4gIH1cblxuICBzZXQgZm9udFdlaWdodCh2YWx1ZTogP3N0cmluZykge1xuICAgIHRoaXMuc3R5bGUuZm9udFdlaWdodCA9IHZhbHVlID8gdmFsdWUgOiBUZXh0RGVmYXVsdHMuZm9udFdlaWdodDtcbiAgfVxuXG4gIHNldCBmb250U3R5bGUodmFsdWU6ID9zdHJpbmcpIHtcbiAgICB0aGlzLnN0eWxlLmZvbnRTdHlsZSA9IHZhbHVlID8gdmFsdWUgOiBUZXh0RGVmYXVsdHMuZm9udFN0eWxlO1xuICB9XG5cbiAgc2V0IGxldHRlclNwYWNpbmcodmFsdWU6ID9udW1iZXIpIHtcbiAgICB0aGlzLnN0eWxlLmxldHRlclNwYWNpbmcgPSB2YWx1ZVxuICAgICAgPyBgJHt2YWx1ZX1weGBcbiAgICAgIDogVGV4dERlZmF1bHRzLmxldHRlclNwYWNpbmc7XG4gIH1cblxuICBzZXQgdGV4dERlY29yYXRpb25MaW5lKHZhbHVlOiA/c3RyaW5nKSB7XG4gICAgdGhpcy51cGRhdGVDaGlsZENvbnRhaW5lclN0eWxlKFxuICAgICAgXCJ0ZXh0RGVjb3JhdGlvbkxpbmVcIixcbiAgICAgIHZhbHVlID8gdmFsdWUgOiBcIm5vbmVcIlxuICAgICk7XG4gIH1cblxuICBzZXQgdGV4dERlY29yYXRpb25TdHlsZSh2YWx1ZTogP3N0cmluZykge1xuICAgIHRoaXMudXBkYXRlQ2hpbGRDb250YWluZXJTdHlsZShcbiAgICAgIFwidGV4dERlY29yYXRpb25TdHlsZVwiLFxuICAgICAgdmFsdWUgPyB2YWx1ZSA6IFwic29saWRcIlxuICAgICk7XG4gIH1cblxuICBzZXQgdGV4dERlY29yYXRpb25Db2xvcih2YWx1ZTogP251bWJlcikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBbYSwgciwgZywgYl0gPSBDb2xvckFycmF5RnJvbUhleEFSR0IodmFsdWUpO1xuICAgICAgY29uc3Qgc3RyaW5nVmFsdWUgPSBgcmdiYSgke3J9LCR7Z30sJHtifSwke2F9KWA7XG4gICAgICB0aGlzLnVwZGF0ZUNoaWxkQ29udGFpbmVyU3R5bGUoXCJ0ZXh0RGVjb3JhdGlvbkNvbG9yXCIsIHN0cmluZ1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGVDaGlsZENvbnRhaW5lclN0eWxlKFwidGV4dERlY29yYXRpb25Db2xvclwiLCBcImN1cnJlbnRjb2xvclwiKTtcbiAgICB9XG4gIH1cblxuICBzZXQgbGluZUhlaWdodCh2YWx1ZTogP251bWJlcikge1xuICAgIHRoaXMudXBkYXRlSG9zdFN0eWxlKFxuICAgICAgXCJsaW5lSGVpZ2h0XCIsXG4gICAgICB2YWx1ZSA/IGAke3ZhbHVlfXB4YCA6IFRleHREZWZhdWx0cy5saW5lSGVpZ2h0XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSQ1RUZXh0O1xuIl19