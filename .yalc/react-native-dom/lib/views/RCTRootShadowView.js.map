{"version":3,"sources":["../../ReactDom/views/RCTRootShadowView.js"],"names":["RCTShadowView","Yoga","RCTRootShadowView","yogaConfig","Config","yogaNode","free","Node","createWithConfig","availableSize","width","Infinity","height","size","ratio","setPointScaleFactor","calculateLayout","layoutChanges","getLayoutChanges","top","left"],"mappings":"0sBAOA,+C,4DACA,iC,kJAEgB,kQACRA,aADQ,4FAERC,IAFQ,eAIRC,iBAJQ,qFASZ,4BAAc,iMAGZ,MAAKC,UAAL,CAAkB,GAAIF,MAAKG,MAAT,EAAlB,CAEA,MAAKC,QAAL,CAAcC,IAAd,GACA,MAAKD,QAAL,CAAgBJ,KAAKM,IAAL,CAAUC,gBAAV,CAA2B,MAAKL,UAAhC,CAAhB,CAEA,MAAKM,aAAL,CAAqB,CAAEC,MAAOC,QAAT,CAAmBC,OAAQD,QAA3B,CAArB,CARY,aASb,CAlBW,2GAoBQE,IApBR,CAoBoB,CAC9B,KAAKJ,aAAL,CAAqBI,IAArB,CACA,KAAKH,KAAL,CAAaG,KAAKH,KAAlB,CACA,KAAKE,MAAL,CAAcC,KAAKD,MAAnB,CACD,CAxBW,sEA0BWE,KA1BX,CA0B0B,CACpC,KAAKX,UAAL,CAAgBY,mBAAhB,CAAoCD,KAApC,EACD,CA5BW,6DA8B6B,oBACb,KAAKL,aADQ,CAC/BC,KAD+B,gBAC/BA,KAD+B,CACxBE,MADwB,gBACxBA,MADwB,CAEvC,KAAKP,QAAL,CAAcW,eAAd,CAA8BN,KAA9B,CAAqCE,MAArC,EAEA,GAAMK,eAAgB,KAAKC,gBAAL,CAAsB,CAC1CC,IAAK,CADqC,CAE1CC,KAAM,CAFoC,CAAtB,CAAtB,CAKA,MAAOH,cAAP,CACD,CAxCW,+BAIkBjB,aAJlB,kCA2CPE,iBA3CO,4DAAD,E","file":"RCTRootShadowView.js","sourcesContent":["/**\n * @providesModule RCTRootShadowView\n * @flow\n */\n\nimport type { LayoutChange } from \"RCTShadowView\";\n\nimport _RCTShadowView from \"RCTShadowView\";\nimport _Yoga from \"yoga-dom\";\n\nexport default (async () => {\n  const RCTShadowView = await _RCTShadowView;\n  const Yoga = await _Yoga;\n\n  class RCTRootShadowView extends RCTShadowView {\n    availableSize: Size;\n    yogaConfig: Yoga.Config;\n    // YGDirection\n\n    constructor() {\n      super();\n\n      this.yogaConfig = new Yoga.Config();\n\n      this.yogaNode.free();\n      this.yogaNode = Yoga.Node.createWithConfig(this.yogaConfig);\n\n      this.availableSize = { width: Infinity, height: Infinity };\n    }\n\n    updateAvailableSize(size: Size) {\n      this.availableSize = size;\n      this.width = size.width;\n      this.height = size.height;\n    }\n\n    updatePointScaleFactor(ratio: number) {\n      this.yogaConfig.setPointScaleFactor(ratio);\n    }\n\n    recalculateLayout(): Array<LayoutChange> {\n      const { width, height } = this.availableSize;\n      this.yogaNode.calculateLayout(width, height);\n\n      const layoutChanges = this.getLayoutChanges({\n        top: 0,\n        left: 0\n      });\n\n      return layoutChanges;\n    }\n  }\n\n  return RCTRootShadowView;\n})();\n"]}