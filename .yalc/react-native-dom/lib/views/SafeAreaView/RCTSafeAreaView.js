Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _extends2=require("babel-runtime/helpers/extends");var _extends3=_interopRequireDefault(_extends2);var _dec,_class;var _RCTSafeAreaViewLocalData=require("./RCTSafeAreaViewLocalData");var _RCTSafeAreaViewLocalData2=_interopRequireDefault(_RCTSafeAreaViewLocalData);var _NotificationCenter=require("./../../base/NotificationCenter");var _NotificationCenter2=_interopRequireDefault(_NotificationCenter);var _RCTView2=require("./../RCTView");var _RCTView3=_interopRequireDefault(_RCTView2);var _CustomElement=require("./../../utils/CustomElement");var _CustomElement2=_interopRequireDefault(_CustomElement);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var insetView=document.createElement("div");insetView.id="safe-area-inset-view";function getInsetValue(computedStyle,direction){var paddingValue=parseInt(computedStyle.getPropertyValue("padding-"+direction),10);var marginValue=parseInt(computedStyle.getPropertyValue("margin-"+direction),10);return Math.max(paddingValue,marginValue);}function getCurrentInset(){var computedStyle=window.getComputedStyle(insetView);return{top:getInsetValue(computedStyle,"top"),left:getInsetValue(computedStyle,"left"),right:getInsetValue(computedStyle,"right"),bottom:getInsetValue(computedStyle,"bottom")};}(0,_extends3.default)(insetView.style,{position:"absolute",visibility:"hidden",paddingTop:"constant(safe-area-inset-top)",paddingLeft:"constant(safe-area-inset-left)",paddingRight:"constant(safe-area-inset-right)",paddingBottom:"constant(safe-area-inset-bottom)",marginTop:"env(safe-area-inset-top)",marginLeft:"env(safe-area-inset-left)",marginRight:"env(safe-area-inset-right)",marginBottom:"env(safe-area-inset-bottom)"});var prevInsets={top:0,left:0,right:0,bottom:0};if(document.documentElement){document.documentElement.appendChild(insetView);prevInsets=getCurrentInset();_NotificationCenter2.default.addListener("didUpdateDimensions",function(){var nextInsets=getCurrentInset();if(JSON.stringify(prevInsets)!==JSON.stringify(nextInsets)){prevInsets=nextInsets;_NotificationCenter2.default.emitEvent("safeAreaInsetsDidChange",nextInsets);}});}var RCTSafeAreaView=(_dec=(0,_CustomElement2.default)("rct-safe-area-view"),_dec(_class=function(_RCTView){(0,_inherits3.default)(RCTSafeAreaView,_RCTView);function RCTSafeAreaView(bridge){(0,_classCallCheck3.default)(this,RCTSafeAreaView);var _this=(0,_possibleConstructorReturn3.default)(this,(RCTSafeAreaView.__proto__||Object.getPrototypeOf(RCTSafeAreaView)).call(this,bridge));_this.safeAreaInsetsDidChange=function(){var localData=new _RCTSafeAreaViewLocalData2.default(prevInsets);_this.bridge.uiManager.setLocalDataForView(localData,_this);};_NotificationCenter2.default.addListener("safeAreaInsetsDidChange",_this.safeAreaInsetsDidChange);return _this;}(0,_createClass3.default)(RCTSafeAreaView,[{key:"connectedCallback",value:function connectedCallback(){this.safeAreaInsetsDidChange();}}]);return RCTSafeAreaView;}(_RCTView3.default))||_class);exports.default=RCTSafeAreaView;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL1JlYWN0RG9tL3ZpZXdzL1NhZmVBcmVhVmlldy9SQ1RTYWZlQXJlYVZpZXcuanMiXSwibmFtZXMiOlsiaW5zZXRWaWV3IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJnZXRJbnNldFZhbHVlIiwiY29tcHV0ZWRTdHlsZSIsImRpcmVjdGlvbiIsInBhZGRpbmdWYWx1ZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm1hcmdpblZhbHVlIiwiTWF0aCIsIm1heCIsImdldEN1cnJlbnRJbnNldCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJzdHlsZSIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJwcmV2SW5zZXRzIiwiZG9jdW1lbnRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJhZGRMaXN0ZW5lciIsIm5leHRJbnNldHMiLCJKU09OIiwic3RyaW5naWZ5IiwiZW1pdEV2ZW50IiwiUkNUU2FmZUFyZWFWaWV3IiwiYnJpZGdlIiwic2FmZUFyZWFJbnNldHNEaWRDaGFuZ2UiLCJsb2NhbERhdGEiLCJ1aU1hbmFnZXIiLCJzZXRMb2NhbERhdGFGb3JWaWV3Il0sIm1hcHBpbmdzIjoib3NCQUlBLG9FLGlGQUNBLG1FLHFFQUNBLHNDLGdEQUNBLDBELDhJQUlBLEdBQU1BLFdBQVlDLFNBQVNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEIsQ0FDQUYsVUFBVUcsRUFBVixDQUFlLHNCQUFmLENBRUEsUUFBU0MsY0FBVCxDQUF1QkMsYUFBdkIsQ0FBc0NDLFNBQXRDLENBQWlELENBQy9DLEdBQU1DLGNBQWVDLFNBQ25CSCxjQUFjSSxnQkFBZCxZQUEwQ0gsU0FBMUMsQ0FEbUIsQ0FFbkIsRUFGbUIsQ0FBckIsQ0FJQSxHQUFNSSxhQUFjRixTQUNsQkgsY0FBY0ksZ0JBQWQsV0FBeUNILFNBQXpDLENBRGtCLENBRWxCLEVBRmtCLENBQXBCLENBSUEsTUFBT0ssTUFBS0MsR0FBTCxDQUFTTCxZQUFULENBQXVCRyxXQUF2QixDQUFQLENBQ0QsQ0FFRCxRQUFTRyxnQkFBVCxFQUEyQixDQUN6QixHQUFNUixlQUFnQlMsT0FBT0MsZ0JBQVAsQ0FBd0JmLFNBQXhCLENBQXRCLENBQ0EsTUFBTyxDQUNMZ0IsSUFBS1osY0FBY0MsYUFBZCxDQUE2QixLQUE3QixDQURBLENBRUxZLEtBQU1iLGNBQWNDLGFBQWQsQ0FBNkIsTUFBN0IsQ0FGRCxDQUdMYSxNQUFPZCxjQUFjQyxhQUFkLENBQTZCLE9BQTdCLENBSEYsQ0FJTGMsT0FBUWYsY0FBY0MsYUFBZCxDQUE2QixRQUE3QixDQUpILENBQVAsQ0FNRCxDQUVELHNCQUFjTCxVQUFVb0IsS0FBeEIsQ0FBK0IsQ0FDN0JDLFNBQVUsVUFEbUIsQ0FFN0JDLFdBQVksUUFGaUIsQ0FHN0JDLFdBQVksK0JBSGlCLENBSTdCQyxZQUFhLGdDQUpnQixDQUs3QkMsYUFBYyxpQ0FMZSxDQU03QkMsY0FBZSxrQ0FOYyxDQU83QkMsVUFBVywwQkFQa0IsQ0FRN0JDLFdBQVksMkJBUmlCLENBUzdCQyxZQUFhLDRCQVRnQixDQVU3QkMsYUFBYyw2QkFWZSxDQUEvQixFQWFBLEdBQUlDLFlBQWEsQ0FDZmYsSUFBSyxDQURVLENBRWZDLEtBQU0sQ0FGUyxDQUdmQyxNQUFPLENBSFEsQ0FJZkMsT0FBUSxDQUpPLENBQWpCLENBT0EsR0FBSWxCLFNBQVMrQixlQUFiLENBQThCLENBQzVCL0IsU0FBUytCLGVBQVQsQ0FBeUJDLFdBQXpCLENBQXFDakMsU0FBckMsRUFDQStCLFdBQWFsQixpQkFBYixDQUNBLDZCQUFtQnFCLFdBQW5CLENBQStCLHFCQUEvQixDQUFzRCxVQUFNLENBQzFELEdBQU1DLFlBQWF0QixpQkFBbkIsQ0FDQSxHQUFJdUIsS0FBS0MsU0FBTCxDQUFlTixVQUFmLElBQStCSyxLQUFLQyxTQUFMLENBQWVGLFVBQWYsQ0FBbkMsQ0FBK0QsQ0FDN0RKLFdBQWFJLFVBQWIsQ0FDQSw2QkFBbUJHLFNBQW5CLENBQTZCLHlCQUE3QixDQUF3REgsVUFBeEQsRUFDRCxDQUNGLENBTkQsRUFPRCxDLEdBR0tJLGdCLE9BREwsNEJBQWMsb0JBQWQsQyxpRkFFQyx5QkFBWUMsTUFBWixDQUErQix5TEFDdkJBLE1BRHVCLFNBWS9CQyx1QkFaK0IsQ0FZTCxVQUFNLENBQzlCLEdBQU1DLFdBQVksdUNBQTZCWCxVQUE3QixDQUFsQixDQUNBLE1BQUtTLE1BQUwsQ0FBWUcsU0FBWixDQUFzQkMsbUJBQXRCLENBQTBDRixTQUExQyxRQUNELENBZjhCLENBRTdCLDZCQUFtQlIsV0FBbkIsQ0FDRSx5QkFERixDQUVFLE1BQUtPLHVCQUZQLEVBRjZCLGFBTTlCLEMsc0dBRW1CLENBQ2xCLEtBQUtBLHVCQUFMLEdBQ0QsQywwRUFRWUYsZSIsImZpbGUiOiJSQ1RTYWZlQXJlYVZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcm92aWRlc01vZHVsZSBSQ1RTYWZlQXJlYVZpZXdcbiAqIEBmbG93XG4gKi9cbmltcG9ydCBSQ1RTYWZlQXJlYVZpZXdMb2NhbERhdGEgZnJvbSBcIlJDVFNhZmVBcmVhVmlld0xvY2FsRGF0YVwiO1xuaW1wb3J0IE5vdGlmaWNhdGlvbkNlbnRlciBmcm9tIFwiTm90aWZpY2F0aW9uQ2VudGVyXCI7XG5pbXBvcnQgUkNUVmlldyBmcm9tIFwiUkNUVmlld1wiO1xuaW1wb3J0IEN1c3RvbUVsZW1lbnQgZnJvbSBcIkN1c3RvbUVsZW1lbnRcIjtcblxuaW1wb3J0IHR5cGUgUkNUQnJpZGdlIGZyb20gXCJSQ1RCcmlkZ2VcIjtcblxuY29uc3QgaW5zZXRWaWV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbmluc2V0Vmlldy5pZCA9IFwic2FmZS1hcmVhLWluc2V0LXZpZXdcIjtcblxuZnVuY3Rpb24gZ2V0SW5zZXRWYWx1ZShjb21wdXRlZFN0eWxlLCBkaXJlY3Rpb24pIHtcbiAgY29uc3QgcGFkZGluZ1ZhbHVlID0gcGFyc2VJbnQoXG4gICAgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGBwYWRkaW5nLSR7ZGlyZWN0aW9ufWApLFxuICAgIDEwXG4gICk7XG4gIGNvbnN0IG1hcmdpblZhbHVlID0gcGFyc2VJbnQoXG4gICAgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGBtYXJnaW4tJHtkaXJlY3Rpb259YCksXG4gICAgMTBcbiAgKTtcbiAgcmV0dXJuIE1hdGgubWF4KHBhZGRpbmdWYWx1ZSwgbWFyZ2luVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50SW5zZXQoKSB7XG4gIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbnNldFZpZXcpO1xuICByZXR1cm4ge1xuICAgIHRvcDogZ2V0SW5zZXRWYWx1ZShjb21wdXRlZFN0eWxlLCBcInRvcFwiKSxcbiAgICBsZWZ0OiBnZXRJbnNldFZhbHVlKGNvbXB1dGVkU3R5bGUsIFwibGVmdFwiKSxcbiAgICByaWdodDogZ2V0SW5zZXRWYWx1ZShjb21wdXRlZFN0eWxlLCBcInJpZ2h0XCIpLFxuICAgIGJvdHRvbTogZ2V0SW5zZXRWYWx1ZShjb21wdXRlZFN0eWxlLCBcImJvdHRvbVwiKVxuICB9O1xufVxuXG5PYmplY3QuYXNzaWduKGluc2V0Vmlldy5zdHlsZSwge1xuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICBwYWRkaW5nVG9wOiBcImNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC10b3ApXCIsXG4gIHBhZGRpbmdMZWZ0OiBcImNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1sZWZ0KVwiLFxuICBwYWRkaW5nUmlnaHQ6IFwiY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXJpZ2h0KVwiLFxuICBwYWRkaW5nQm90dG9tOiBcImNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pXCIsXG4gIG1hcmdpblRvcDogXCJlbnYoc2FmZS1hcmVhLWluc2V0LXRvcClcIixcbiAgbWFyZ2luTGVmdDogXCJlbnYoc2FmZS1hcmVhLWluc2V0LWxlZnQpXCIsXG4gIG1hcmdpblJpZ2h0OiBcImVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQpXCIsXG4gIG1hcmdpbkJvdHRvbTogXCJlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSlcIlxufSk7XG5cbmxldCBwcmV2SW5zZXRzID0ge1xuICB0b3A6IDAsXG4gIGxlZnQ6IDAsXG4gIHJpZ2h0OiAwLFxuICBib3R0b206IDBcbn07XG5cbmlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGluc2V0Vmlldyk7XG4gIHByZXZJbnNldHMgPSBnZXRDdXJyZW50SW5zZXQoKTtcbiAgTm90aWZpY2F0aW9uQ2VudGVyLmFkZExpc3RlbmVyKFwiZGlkVXBkYXRlRGltZW5zaW9uc1wiLCAoKSA9PiB7XG4gICAgY29uc3QgbmV4dEluc2V0cyA9IGdldEN1cnJlbnRJbnNldCgpO1xuICAgIGlmIChKU09OLnN0cmluZ2lmeShwcmV2SW5zZXRzKSAhPT0gSlNPTi5zdHJpbmdpZnkobmV4dEluc2V0cykpIHtcbiAgICAgIHByZXZJbnNldHMgPSBuZXh0SW5zZXRzO1xuICAgICAgTm90aWZpY2F0aW9uQ2VudGVyLmVtaXRFdmVudChcInNhZmVBcmVhSW5zZXRzRGlkQ2hhbmdlXCIsIG5leHRJbnNldHMpO1xuICAgIH1cbiAgfSk7XG59XG5cbkBDdXN0b21FbGVtZW50KFwicmN0LXNhZmUtYXJlYS12aWV3XCIpXG5jbGFzcyBSQ1RTYWZlQXJlYVZpZXcgZXh0ZW5kcyBSQ1RWaWV3IHtcbiAgY29uc3RydWN0b3IoYnJpZGdlOiBSQ1RCcmlkZ2UpIHtcbiAgICBzdXBlcihicmlkZ2UpO1xuICAgIE5vdGlmaWNhdGlvbkNlbnRlci5hZGRMaXN0ZW5lcihcbiAgICAgIFwic2FmZUFyZWFJbnNldHNEaWRDaGFuZ2VcIixcbiAgICAgIHRoaXMuc2FmZUFyZWFJbnNldHNEaWRDaGFuZ2VcbiAgICApO1xuICB9XG5cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5zYWZlQXJlYUluc2V0c0RpZENoYW5nZSgpO1xuICB9XG5cbiAgc2FmZUFyZWFJbnNldHNEaWRDaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgbG9jYWxEYXRhID0gbmV3IFJDVFNhZmVBcmVhVmlld0xvY2FsRGF0YShwcmV2SW5zZXRzKTtcbiAgICB0aGlzLmJyaWRnZS51aU1hbmFnZXIuc2V0TG9jYWxEYXRhRm9yVmlldyhsb2NhbERhdGEsIHRoaXMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBSQ1RTYWZlQXJlYVZpZXc7XG4iXX0=