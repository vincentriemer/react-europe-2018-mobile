Object.defineProperty(exports,"__esModule",{value:true});var _toConsumableArray2=require("babel-runtime/helpers/toConsumableArray");var _toConsumableArray3=_interopRequireDefault(_toConsumableArray2);var _classCallCheck2=require("babel-runtime/helpers/classCallCheck");var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=require("babel-runtime/helpers/createClass");var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn");var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _get2=require("babel-runtime/helpers/get");var _get3=_interopRequireDefault(_get2);var _inherits2=require("babel-runtime/helpers/inherits");var _inherits3=_interopRequireDefault(_inherits2);var _RCTValueAnimatedNode2=require("./RCTValueAnimatedNode");var _RCTValueAnimatedNode3=_interopRequireDefault(_RCTValueAnimatedNode2);var _RCTAnimationUtils=require("./../RCTAnimationUtils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var RCTInterpolationAnimatedNode=function(_RCTValueAnimatedNode){(0,_inherits3.default)(RCTInterpolationAnimatedNode,_RCTValueAnimatedNode);function RCTInterpolationAnimatedNode(tag,config){(0,_classCallCheck3.default)(this,RCTInterpolationAnimatedNode);var _this=(0,_possibleConstructorReturn3.default)(this,(RCTInterpolationAnimatedNode.__proto__||Object.getPrototypeOf(RCTInterpolationAnimatedNode)).call(this,tag,config));_this.inputRange=[].concat((0,_toConsumableArray3.default)(config.inputRange));_this.outputRange=[];for(var _iterator=config.outputRange,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var value=_ref;if(typeof value==="number"){_this.outputRange.push(value);}}_this.extrapolateLeft=config.extrapolateLeft;_this.extrapolateRight=config.extrapolateRight;return _this;}(0,_createClass3.default)(RCTInterpolationAnimatedNode,[{key:"onAttachedToNode",value:function onAttachedToNode(parent){(0,_get3.default)(RCTInterpolationAnimatedNode.prototype.__proto__||Object.getPrototypeOf(RCTInterpolationAnimatedNode.prototype),"onAttachedToNode",this).call(this,parent);if(parent instanceof _RCTValueAnimatedNode3.default){this.parentNode=parent;}}},{key:"onDetachedFromNode",value:function onDetachedFromNode(parent){(0,_get3.default)(RCTInterpolationAnimatedNode.prototype.__proto__||Object.getPrototypeOf(RCTInterpolationAnimatedNode.prototype),"onDetachedFromNode",this).call(this,parent);if(this.parentNode===parent){this.parentNode=null;}}},{key:"performUpdate",value:function performUpdate(){(0,_get3.default)(RCTInterpolationAnimatedNode.prototype.__proto__||Object.getPrototypeOf(RCTInterpolationAnimatedNode.prototype),"performUpdate",this).call(this);var parentNode=this.parentNode;if(!parentNode){return;}var inputValue=parentNode.value;var outputValue=(0,_RCTAnimationUtils.RCTInterpolateValueInRange)(inputValue,this.inputRange,this.outputRange,this.extrapolateLeft,this.extrapolateRight);this._value=outputValue;}}]);return RCTInterpolationAnimatedNode;}(_RCTValueAnimatedNode3.default);exports.default=RCTInterpolationAnimatedNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL1JlYWN0RG9tL21vZHVsZXMvTmF0aXZlQW5pbWF0aW9uL05vZGVzL1JDVEludGVycG9sYXRpb25BbmltYXRlZE5vZGUuanMiXSwibmFtZXMiOlsiUkNUSW50ZXJwb2xhdGlvbkFuaW1hdGVkTm9kZSIsInRhZyIsImNvbmZpZyIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsInZhbHVlIiwicHVzaCIsImV4dHJhcG9sYXRlTGVmdCIsImV4dHJhcG9sYXRlUmlnaHQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiaW5wdXRWYWx1ZSIsIm91dHB1dFZhbHVlIiwiX3ZhbHVlIl0sIm1hcHBpbmdzIjoibXpCQU9BLDZELDBFQUNBLHlELHNGQUVNQSw2Qiw0R0FPSixzQ0FBWUMsR0FBWixDQUF5QkMsTUFBekIsQ0FBeUMsZ09BQ2pDRCxHQURpQyxDQUM1QkMsTUFENEIsR0FHdkMsTUFBS0MsVUFBTCwyQ0FBc0JELE9BQU9DLFVBQTdCLEdBQ0EsTUFBS0MsV0FBTCxDQUFtQixFQUFuQixDQUNBLGtCQUFrQkYsT0FBT0UsV0FBekIsNElBQXNDLHVJQUE3QkMsTUFBNkIsTUFDcEMsR0FBSSxNQUFPQSxNQUFQLEdBQWlCLFFBQXJCLENBQStCLENBQzdCLE1BQUtELFdBQUwsQ0FBaUJFLElBQWpCLENBQXNCRCxLQUF0QixFQUNELENBQ0YsQ0FDRCxNQUFLRSxlQUFMLENBQXVCTCxPQUFPSyxlQUE5QixDQUNBLE1BQUtDLGdCQUFMLENBQXdCTixPQUFPTSxnQkFBL0IsQ0FYdUMsYUFZeEMsQyxnSEFFZ0JDLE0sQ0FBeUIsQ0FDeEMscUtBQXVCQSxNQUF2QixFQUNBLEdBQUlBLGdEQUFKLENBQTRDLENBQzFDLEtBQUtDLFVBQUwsQ0FBa0JELE1BQWxCLENBQ0QsQ0FDRixDLDhEQUVrQkEsTSxDQUF5QixDQUMxQyx1S0FBeUJBLE1BQXpCLEVBQ0EsR0FBSSxLQUFLQyxVQUFMLEdBQW9CRCxNQUF4QixDQUFnQyxDQUM5QixLQUFLQyxVQUFMLENBQWtCLElBQWxCLENBQ0QsQ0FDRixDLHFEQUVlLENBQ2QsbUtBRUEsR0FBTUEsWUFBYSxLQUFLQSxVQUF4QixDQUNBLEdBQUksQ0FBQ0EsVUFBTCxDQUFpQixDQUNmLE9BQ0QsQ0FFRCxHQUFNQyxZQUFhRCxXQUFXTCxLQUE5QixDQUVBLEdBQU1PLGFBQWMsa0RBQ2xCRCxVQURrQixDQUVsQixLQUFLUixVQUZhLENBR2xCLEtBQUtDLFdBSGEsQ0FJbEIsS0FBS0csZUFKYSxDQUtsQixLQUFLQyxnQkFMYSxDQUFwQixDQVFBLEtBQUtLLE1BQUwsQ0FBY0QsV0FBZCxDQUNELEMsMEZBR1laLDRCIiwiZmlsZSI6IlJDVEludGVycG9sYXRpb25BbmltYXRlZE5vZGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwcm92aWRlc01vZHVsZSBSQ1RJbnRlcnBvbGF0aW9uQW5pbWF0ZWROb2RlXG4gKiBAZmxvd1xuICovXG5cbmltcG9ydCB0eXBlIHsgQ29uZmlnIH0gZnJvbSBcIlJDVE5hdGl2ZUFuaW1hdGVkTW9kdWxlXCI7XG5pbXBvcnQgdHlwZSBSQ1RBbmltYXRlZE5vZGUgZnJvbSBcIlJDVEFuaW1hdGVkTm9kZVwiO1xuaW1wb3J0IFJDVFZhbHVlQW5pbWF0ZWROb2RlIGZyb20gXCJSQ1RWYWx1ZUFuaW1hdGVkTm9kZVwiO1xuaW1wb3J0IHsgUkNUSW50ZXJwb2xhdGVWYWx1ZUluUmFuZ2UgfSBmcm9tIFwiUkNUQW5pbWF0aW9uVXRpbHNcIjtcblxuY2xhc3MgUkNUSW50ZXJwb2xhdGlvbkFuaW1hdGVkTm9kZSBleHRlbmRzIFJDVFZhbHVlQW5pbWF0ZWROb2RlIHtcbiAgcGFyZW50Tm9kZTogP1JDVFZhbHVlQW5pbWF0ZWROb2RlO1xuICBpbnB1dFJhbmdlOiBudW1iZXJbXTtcbiAgb3V0cHV0UmFuZ2U6IG51bWJlcltdO1xuICBleHRyYXBvbGF0ZUxlZnQ6IHN0cmluZztcbiAgZXh0cmFwb2xhdGVSaWdodDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHRhZzogbnVtYmVyLCBjb25maWc6IENvbmZpZykge1xuICAgIHN1cGVyKHRhZywgY29uZmlnKTtcblxuICAgIHRoaXMuaW5wdXRSYW5nZSA9IFsuLi5jb25maWcuaW5wdXRSYW5nZV07XG4gICAgdGhpcy5vdXRwdXRSYW5nZSA9IFtdO1xuICAgIGZvciAobGV0IHZhbHVlIG9mIGNvbmZpZy5vdXRwdXRSYW5nZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aGlzLm91dHB1dFJhbmdlLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmV4dHJhcG9sYXRlTGVmdCA9IGNvbmZpZy5leHRyYXBvbGF0ZUxlZnQ7XG4gICAgdGhpcy5leHRyYXBvbGF0ZVJpZ2h0ID0gY29uZmlnLmV4dHJhcG9sYXRlUmlnaHQ7XG4gIH1cblxuICBvbkF0dGFjaGVkVG9Ob2RlKHBhcmVudDogUkNUQW5pbWF0ZWROb2RlKSB7XG4gICAgc3VwZXIub25BdHRhY2hlZFRvTm9kZShwYXJlbnQpO1xuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBSQ1RWYWx1ZUFuaW1hdGVkTm9kZSkge1xuICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIG9uRGV0YWNoZWRGcm9tTm9kZShwYXJlbnQ6IFJDVEFuaW1hdGVkTm9kZSkge1xuICAgIHN1cGVyLm9uRGV0YWNoZWRGcm9tTm9kZShwYXJlbnQpO1xuICAgIGlmICh0aGlzLnBhcmVudE5vZGUgPT09IHBhcmVudCkge1xuICAgICAgdGhpcy5wYXJlbnROb2RlID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwZXJmb3JtVXBkYXRlKCkge1xuICAgIHN1cGVyLnBlcmZvcm1VcGRhdGUoKTtcblxuICAgIGNvbnN0IHBhcmVudE5vZGUgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW5wdXRWYWx1ZSA9IHBhcmVudE5vZGUudmFsdWU7XG5cbiAgICBjb25zdCBvdXRwdXRWYWx1ZSA9IFJDVEludGVycG9sYXRlVmFsdWVJblJhbmdlKFxuICAgICAgaW5wdXRWYWx1ZSxcbiAgICAgIHRoaXMuaW5wdXRSYW5nZSxcbiAgICAgIHRoaXMub3V0cHV0UmFuZ2UsXG4gICAgICB0aGlzLmV4dHJhcG9sYXRlTGVmdCxcbiAgICAgIHRoaXMuZXh0cmFwb2xhdGVSaWdodFxuICAgICk7XG5cbiAgICB0aGlzLl92YWx1ZSA9IG91dHB1dFZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJDVEludGVycG9sYXRpb25BbmltYXRlZE5vZGU7XG4iXX0=